<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Send Payment</title>
<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&family=Quicksand:wght@400;500;600&display=swap" rel="stylesheet" />
<style>
  /* Base styles */
  body {
    font-family: 'Quicksand', sans-serif;
    background: linear-gradient(135deg, #a8edea, #fed6e3);
    color: #333;
    margin: 0;
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    overflow-x: hidden;
  }
  .container {
    background-color: #fff;
    border-radius: 16px;
    box-shadow:
      0 8px 24px rgba(72, 88, 145, 0.1),
      0 12px 36px rgba(72, 88, 145, 0.15);
    padding: 35px 50px;
    width: 100%;
    max-width: 480px;
    opacity: 0;
    transform: translateY(30px);
    animation: fadeInUp 1s ease-out forwards;
  }
  @keyframes fadeInUp {
    0% {
      opacity: 0;
      transform: translateY(30px);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }
  h2 {
    text-align: center;
    color: #4A90E2;
    font-family: 'Roboto', sans-serif;
    font-weight: 700;
    margin-bottom: 30px;
    letter-spacing: 1.2px;
  }
  .form-group {
    margin-bottom: 22px;
    position: relative;
  }
  label {
    font-size: 14px;
    color: #555;
    margin-bottom: 6px;
    font-weight: 600;
    display: block;
    user-select: none;
  }
  input[type='text'],
  input[type='number'],
  select {
    width: 100%;
    padding: 14px 16px;
    font-size: 16px;
    border: 2px solid #ddd;
    border-radius: 10px;
    margin-top: 8px;
    box-sizing: border-box;
    transition: border-color 0.35s ease, box-shadow 0.35s ease;
    background-color: #fafafa;
    font-weight: 500;
    letter-spacing: 0.03em;
  }
  input[type='text']:focus,
  input[type='number']:focus,
  select:focus {
    border-color: #4A90E2;
    box-shadow: 0 0 8px #4A90E2aa;
    outline: none;
    background-color: #fff;
  }
  select {
    background-color: #fff;
    cursor: pointer;
  }
  button {
    width: 100%;
    padding: 16px;
    background: linear-gradient(90deg, #4A90E2, #357ABD);
    color: #fff;
    font-size: 18px;
    border: none;
    border-radius: 12px;
    cursor: pointer;
    font-weight: 700;
    letter-spacing: 0.06em;
    transition: background 0.4s ease;
    box-shadow: 0 6px 15px rgba(53, 122, 189, 0.6);
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 12px;
  }
  button:hover {
    background: linear-gradient(90deg, #357ABD, #255A9B);
    box-shadow: 0 8px 25px rgba(41, 77, 139, 0.8);
  }
  .form-footer {
    text-align: center;
    font-size: 14px;
    margin-top: 26px;
  }
  .form-footer a {
    color: #4A90E2;
    text-decoration: none;
    font-weight: 600;
  }
  .form-footer a:hover {
    text-decoration: underline;
  }
  .form-group .error {
    color: #E74C3C;
    font-size: 12px;
    margin-top: 6px;
    font-weight: 600;
  }

  /* Success message styles */
  #successMessage {
    display: none;
    margin-top: 20px;
    text-align: center;
    font-size: 20px;
    font-weight: 700;
    color: #2ecc71;
    text-shadow:
      0 0 8px #2ecc71aa,
      0 0 12px #27ae6011;
    animation: pulseGlow 1.5s ease-in-out infinite;
  }
  @keyframes pulseGlow {
    0%, 100% {
      text-shadow:
        0 0 8px #2ecc71aa,
        0 0 14px #27ae6011;
      color: #27ae60;
    }
    50% {
      text-shadow:
        0 0 20px #2ecc71dd,
        0 0 30px #27ae6066;
      color: #2ecc71;
    }
  }

  /* Confetti Animation */
  .confetti {
    pointer-events: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    overflow: visible;
    z-index: 9999;
    display: none;
  }
  .confetti-piece {
    position: absolute;
    width: 8px;
    height: 12px;
    opacity: 0.85;
    border-radius: 4px;
    animation-name: confettiFall, confettiSpin;
    animation-timing-function: ease-out, linear;
    animation-iteration-count: 1, infinite;
    will-change: transform, opacity;
  }
  @keyframes confettiFall {
    0% {
      transform: translateY(-15vh);
      opacity: 1;
    }
    100% {
      transform: translateY(110vh);
      opacity: 0;
    }
  }
  @keyframes confettiSpin {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }

  /* Sparkle Animation */
  .sparkle {
    position: fixed;
    pointer-events: none;
    width: 20px;
    height: 20px;
    background: radial-gradient(circle, #ffffff, rgba(255,255,255,0) 70%);
    border-radius: 50%;
    opacity: 0;
    animation: sparkleAnim 1s ease forwards;
    z-index: 10000;
  }
  @keyframes sparkleAnim {
    0% {
      transform: scale(0.5);
      opacity: 1;
    }
    100% {
      transform: scale(1.5);
      opacity: 0;
    }
  }

  /* Icon inside button */
  .button-icon {
    display: inline-block;
    width: 22px;
    height: 22px;
    stroke: white;
    stroke-width: 2.5;
    stroke-linecap: round;
    stroke-linejoin: round;
    fill: none;
    animation: buttonPulse 2s infinite ease-in-out;
  }
  @keyframes buttonPulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.6; }
  }

</style>
</head>
<body>
  <div class="container" role="main" aria-label="Send Payment Form">
    <h2>Send Payment</h2>
    <form id="paymentForm" action="/process-payment" method="POST" novalidate>
      <div class="form-group">
        <label for="payerName">Your Name:</label>
        <input type="text" id="payerName" name="payerName" autocomplete="name" required aria-describedby="payerNameError" />
        <div class="error" id="payerNameError" role="alert" aria-live="assertive"></div>
      </div>
      <div class="form-group">
        <label for="paymentAmount">Amount to Pay ($):</label>
        <input type="number" id="paymentAmount" name="paymentAmount" min="1" step="0.01" autocomplete="off" required aria-describedby="paymentAmountError" />
        <div class="error" id="paymentAmountError" role="alert" aria-live="assertive"></div>
      </div>
      <div class="form-group">
        <label for="paymentMethod">Payment Method:</label>
        <select id="paymentMethod" name="paymentMethod" required aria-describedby="paymentMethodError">
          <option value="">Select method</option>
          <option value="creditCard">Credit Card</option>
          <option value="paypal">PayPal</option>
          <option value="bankTransfer">Bank Transfer</option>
          <option value="mobilePayment">Mobile Payment</option>
          <option value="crypto">Cryptocurrency</option>
        </select>
        <div class="error" id="paymentMethodError" role="alert" aria-live="assertive"></div>
      </div>
      <div class="form-group">
        <label for="receiverName">Receiver's Name:</label>
        <input type="text" id="receiverName" name="receiverName" autocomplete="name" required aria-describedby="receiverNameError" />
        <div class="error" id="receiverNameError" role="alert" aria-live="assertive"></div>
      </div>
      <button type="submit" aria-live="polite" aria-busy="false">
        Send Payment
        <svg class="button-icon" viewBox="0 0 24 24" aria-hidden="true">
          <polyline points="9 18 15 12 9 6" />
        </svg>
      </button>
    </form>
    <div class="form-footer">
      <p>Need help? <a href="#">Contact Support</a></p>
    </div>
    <div id="successMessage" role="alert" aria-live="assertive">ðŸŽ‰ Payment Successful! ðŸŽ‰</div>
  </div>

  <!-- Confetti container -->
  <div class="confetti" id="confetti"></div>

<script>
  const form = document.getElementById('paymentForm');
  const confettiContainer = document.getElementById('confetti');
  const successMessage = document.getElementById('successMessage');
  const button = form.querySelector('button');

  form.addEventListener('submit', function (event) {
    event.preventDefault();
    clearErrors();
    let valid = validateForm();

    if (!valid) {
      return;
    }

    // Disable button and show busy state
    button.disabled = true;
    button.setAttribute('aria-busy', 'true');
    button.textContent = 'Processing...';

    // Simulate payment processing delay
    simulatePaymentProcessing()
      .then(() => {
        // Show success UI
        button.textContent = 'Sent! ðŸŽ‰';
        button.disabled = true;
        button.setAttribute('aria-busy', 'false');

        // Show confetti and sparkles
        triggerConfetti();
        triggerSparkles();

        // Show success message
        successMessage.style.display = 'block';

        // Reset form after delay
        setTimeout(() => {
          successMessage.style.display = 'none';
          button.disabled = false;
          button.textContent = 'Send Payment';
          form.reset();
        }, 4500);
      })
      .catch(() => {
        alert('Payment failed. Please try again.');
        button.disabled = false;
        button.setAttribute('aria-busy', 'false');
        button.textContent = 'Send Payment';
      });
  });

  function clearErrors() {
    document.querySelectorAll('.error').forEach(el => (el.textContent = ''));
  }

  function validateForm() {
    let valid = true;
    if (!form.payerName.value.trim()) {
      document.getElementById('payerNameError').textContent = 'Name is required.';
      valid = false;
    }
    if (!form.paymentAmount.value || form.paymentAmount.value <= 0) {
      document.getElementById('paymentAmountError').textContent = 'Please enter a valid amount.';
      valid = false;
    }
    if (!form.paymentMethod.value) {
      document.getElementById('paymentMethodError').textContent = 'Payment method is required.';
      valid = false;
    }
    if (!form.receiverName.value.trim()) {
      document.getElementById('receiverNameError').textContent = "Receiver's name is required.";
      valid = false;
    }
    return valid;
  }

  // Simulated payment processing function - resolves successfully after 2 seconds
  function simulatePaymentProcessing() {
    return new Promise((resolve, reject) => {
      setTimeout(() => {
        // Randomly fail 10% of the time for demo
        if (Math.random() < 0.9) resolve();
        else reject();
      }, 2000);
    });
  }

  // Confetti trigger
  function triggerConfetti() {
    confettiContainer.style.display = 'block';

    for (let i = 0; i < 120; i++) {
      const confetti = document.createElement('div');
      confetti.classList.add('confetti-piece');
      confetti.style.backgroundColor = randomColor();
      confetti.style.left = Math.random() * 100 + 'vw';
      confetti.style.top = (Math.random() * -20) + 'vh';
      confetti.style.animationDuration = 2 + Math.random() * 2 + 's';
      confetti.style.animationDelay = Math.random() * 2 + 's';
      confetti.style.width = 6 + Math.random() * 10 + 'px';
      confetti.style.height = 8 + Math.random() * 12 + 'px';
      confetti.style.borderRadius = Math.random() > 0.5 ? '2px' : '50%';
      confettiContainer.appendChild(confetti);
    }

    setTimeout(() => {
      confettiContainer.style.display = 'none';
      confettiContainer.innerHTML = '';
    }, 5000);
  }

  // Sparkles trigger
  function triggerSparkles() {
    let count = 30;
    for (let i = 0; i < count; i++) {
      const sparkle = document.createElement('div');
      sparkle.classList.add('sparkle');
      sparkle.style.left = (Math.random() * window.innerWidth) + 'px';
      sparkle.style.top = (Math.random() * window.innerHeight) + 'px';
      sparkle.style.animationDelay = (Math.random() * 0.5) + 's';
      document.body.appendChild(sparkle);
      sparkle.addEventListener('animationend', () => sparkle.remove());
    }
  }

  // Helper: random bright colors for confetti
  function randomColor() {
    const colors = ['#4A90E2', '#E94E77', '#F6BB42', '#50E3C2', '#F5A623', '#9B59B6', '#1ABC9C', '#E67E22'];
    return colors[Math.floor(Math.random() * colors.length)];
  }
</script>
</body>
</html>